<h1 mat-dialog-title>Select Data Source</h1>

<mat-dialog-content>
    <ul>
        @for (source of sources(); track source.id) {
        <li 
            (click)="select(source)"
            [class.selected]="selected()?.id === source.id"
        >
            <strong>{{ source.name }}</strong>
            @if (source.description; as description) {
            <p>{{ description }}</p>
            }
            @if (selected()?.id === source.id) {
            <style>
                li {
                    cursor: pointer;
                    padding: 0.5rem;
                    border-radius: 4px;
                    transition: background-color 0.2s;
                }
                li.selected {
                background-color: pink; 
                color: white;              
                }
                li:hover {
                    background-color: lightgray;
                }
            </style>
            }
        </li>
        }
    </ul>

    <button mat-button color="warn" (click)="clear()">Clear Selection</button>
    
</mat-dialog-content>

<mat-dialog-actions align="end">
    <button mat-button mat-button [mat-dialog-close]="selected()" color="primary" [disabled]="!selected()" >Start</button>
</mat-dialog-actions>