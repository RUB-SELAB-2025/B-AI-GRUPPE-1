<!--
  ~ MIT License
  ~
  ~ Copyright (c) 2025 AI-Gruppe
  ~
  ~ Permission is hereby granted, free of charge, to any person obtaining a copy
  ~ of this software and associated documentation files (the "Software"), to deal
  ~ in the Software without restriction, including without limitation the rights
  ~ to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  ~ copies of the Software, and to permit persons to whom the Software is
  ~ furnished to do so, subject to the following conditions:
  ~
  ~ The above copyright notice and this permission notice shall be included in all
  ~ copies or substantial portions of the Software.
  ~
  ~ THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  ~ IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  ~ FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  ~ AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  ~ LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  ~ OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  ~ SOFTWARE.
  -->

<h1 mat-dialog-title>Select Data Source</h1>

<mat-dialog-content>
    <ul>
        @for (source of sources(); track source.id) {
            <li>
                <!-- Select data source with clickable card -->
                <!-- If cards should also be filled when not selected, use 'filled' instead of 'outlined'. See: https://material.angular.dev/components/card/api -->
                <mat-card [appearance]="selected()?.id === source.id ? 'raised' : 'outlined'" (click)="select(source)">
                    <mat-card-header>
                        <mat-card-title>{{ source.name }}</mat-card-title>
                    </mat-card-header>
                    @if (source.description; as description) {
                        <mat-card-content>{{ description }}</mat-card-content>
                    }
                    <mat-card-actions  align="end">
                        <button mat-button (click)="select(source)">Select</button>
                    </mat-card-actions>
                </mat-card>
            </li>
        }
    </ul>

</mat-dialog-content>

<mat-dialog-actions>
    <!--Buttons are disabled when no source is selected, "Clear Selection" button uses different style for visual contrast-->
    <button mat-flat-button [class]="selected()? 'error' : ''" [disabled]="!selected()" (click)="clear()">Clear Selection</button>
    <button mat-button [mat-dialog-close]="selected()" [disabled]="!selected()">Start</button>
</mat-dialog-actions>
